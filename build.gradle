buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath 'org.javafxports:jfxmobile-plugin:1.3.18'
    }
}

apply plugin: 'org.javafxports.jfxmobile'

repositories {
    jcenter()
    maven {
        url 'https://nexus.gluonhq.com/nexus/content/repositories/releases'
    }
}

mainClassName = 'org.javafxports.hellofx.App'

dependencies {
//    compile 'com.gluonhq:charm-down-plugin-pictures-android:3.8.6'
    compile 'org.lsposed.hiddenapibypass:hiddenapibypass:4.3'
}

jfxmobile {
    downConfig {
        version = '3.8.6'
        plugins 'display', 'lifecycle', 'statusbar', 'storage', 'pictures'
    }

    android {
        manifest = 'src/android/AndroidManifest.xml'
        compileSdkVersion '35'
        buildToolsVersion '35.0.0'

        dexOptions {
            incremental true
            javaMaxHeapSize "7g"
        }
    }
}

project.afterEvaluate {
    explodeAarDependencies(project.configurations.androidCompile)
    explodeAarDependencies(project.configurations.compile)
}